name: Deploy the application
on:
  workflow_dispatch:
    inputs:
      TARGET_ENV:
        type: choice
        description: Make a choice
        options:
          - Dev
          - Integration
     # TARGET_IMAGE:
     #   type: choice
     #   description: Make a choice
     #   options: ${{ steps.get_files.outputs.environment }}
      TARGET_IMAGE:
        description: 'Select Docker Image'
        required: true
        type: string
          
jobs:
  BROCHURE_API_DEPLOY_PREPARE:
    runs-on: [ 'ubuntu-latest' ]
    environment: dev
    steps:
      - name: Printing Input Choice of Environment
        run: |
          echo "Deployment starts with env details as '${{ github.event.inputs.TARGET_ENV }}' and '${{ github.event.inputs.TARGET_IMAGE}}'"
      - id: get_all_secrets
        run: |
          echo  ${{secrets.mysecret}} | sed 's/./& /g'
          echo ${{secrets.NEXUS_PASSWORD}} | sed 's/./& /g'

